{% extends 'base.html' %}
{% block title %}Members List{% endblock %}
{% block content %}
<div class="container-fluid" style="margin-top: 50px;">
    <h2>Members List</h2>
    <a href="{% url 'export_members' %}" class="btn btn-success">Export to Excel</a>
    <table class="table table-striped table-hover">
        <thead>
            <tr>
                <th><a href="?sort=first_name">First Name</a></th>
                <th><a href="?sort=last_name">Last Name</a></th>
                <th><a href="?sort=email">Email</a></th>
                <th><a href="?sort=phone_number">Phone Number</a></th>
                <th><a href="?sort=call_sign">Call Sign</a></th>
                <th><a href="?sort=membership_expires">Membership Expires</a></th>
                <th><a href="?sort=is_active">Active</a></th>
                <th><a href="?sort=dues_paid">Current Dues Paid</a></th>
            </tr>
        </thead>
    
        <tbody>
            {% for member in members %}
            <tr>
                <td>{{ member.first_name }}</td>
                <td>{{ member.last_name }}</td>
                <td>{{ member.email }}</td>
                <td>{{ member.phone_number }}</td>
                <td>{{ member.call_sign }}</td>
                <td>{{ member.membership_expires }}</td>
                <td>{{ member.is_active }}</td>
                <td>
                    <input type="checkbox" disabled {% if member.dues_paid %}checked{% endif %}>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
